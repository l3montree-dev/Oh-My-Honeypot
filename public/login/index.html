<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login Page</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <div class="container">
    <div class="login-box">
      <h2>Login</h2>
      <form action="/failed-login" method="POST" id="form">
        <div class="textbox">
          <input type="text" placeholder="Username" name="username" id="username" required>
        </div>
        <div class="textbox">
          <input type="password" placeholder="Password" name="password" id="password" required>
        </div>
        <button type="submit" class="btn">Login</button>
      </form>
    </div>
  </div>
</body>

</html>
<!--
  <?php
  // Load environment variables from .env file
  require 'vendor/autoload.php';
  $dotenv = Dotenv\Dotenv::createImmutable(__DIR__);
  $dotenv->load();

  // Get database connection details from environment variables
  $db_host = $_ENV['DB_NAME'];
  $db_port = 5432;
  $db_name = $_ENV['DB_NAME'];
  $db_user = $_ENV['DB_USER'];
  $db_pass = $_ENV['DB_PASSWORD'];

  // Initialize variables to store the form data
  $username = $password = "";

  // Check if the form is submitted
  if ($_SERVER["REQUEST_METHOD"] == "POST") {
    // Get the username and password from the form submission
    $username = $_POST["username"];
    $password = $_POST["password"];

    // Connect to PostgreSQL database
    $dsn = "pgsql:host=$db_host;port=$db_port;dbname=$db_name";
    try {
      $pdo = new PDO($dsn, $db_user, $db_pass, [PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION]);
    } catch (PDOException $e) {
      die("Error connecting to database: " . $e->getMessage());
    }

    // Prepare and execute SQL query to get the user data
    $stmt = $pdo->prepare("SELECT username, password_hash FROM users WHERE username = :username");
    $stmt->execute(['username' => $username]);
    $user = $stmt->fetch(PDO::FETCH_ASSOC);

    // Validate the username and password
    if ($user && password_verify($password, $user['password_hash'])) {
      echo "Login successful!";
      // You can redirect to a success page here
      // header("Location: /success-page.php");
      exit;
    } else {
      // Invalid credentials, redirect to the failed login page
      header("Location: failed-login.php");
      exit;
    }
  }
  ?>
  -->